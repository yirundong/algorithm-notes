# 位操作

## 常见的位操作符

`>>,<<,>>>,|,&,~,^,mask`

Java中都是使用补码来表示整数,我们可以使用位操作来优化常数时间,所用时间比运算符好很多,但是在Java中如果你自己用位运算模拟各种运算符操作实际上没有直接使用操作符快,这是因为Java本身也是用位运算实现的,但jvm会有优化

## 一些特性

- &0变0,|1变1,其他都不变
- ^就是无进位的加,&结果<<1是进位信息
- -x就是~(x+1)
- x&-x就可以mask x,使其二进制只保留最后一个1

## 注意点

- 补码loop型溢出:整型乘2(左移操作)要特别注意补码溢出问题,最大正数+1是最小负数
- 假设这样的一种情况`for(;x>20亿;x<<1)`,溢出问题往往导致终止条件永远不会发生,不要让这种代码出现!!



